<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<title>Pediatrics Calculator</title>
<meta name="description" content="คำนวณขนาดยาและสารน้ำสำหรับเด็ก">
<meta name="theme-color" content="#FF6663">

<!-- iOS Meta Tags -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="default">
<meta name="apple-mobile-web-app-title" content="PedCalc">

<!-- Inline SVG Icon for Favicon -->
<link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='<http://www.w3.org/2000/svg>' viewBox='0 0 64 64'%3E%3Crect width='64' height='64' rx='12' fill='%23FF6663'/%3E%3Ccircle cx='32' cy='22' r='10' fill='%23FFF' opacity='0.95'/%3E%3Crect x='24' y='30' width='16' height='18' rx='6' fill='%23FFF' opacity='0.95'/%3E%3Ccircle cx='28' cy='19' r='1.5' fill='%23FF6663'/%3E%3Ccircle cx='36' cy='19' r='1.5' fill='%23FF6663'/%3E%3Cpath d='M28 24 Q32 27 36 24' fill='none' stroke='%23FF6663' stroke-width='1.5' stroke-linecap='round'/%3E%3Crect x='26' y='35' width='3' height='8' rx='1.5' fill='%23BFD7EA'/%3E%3Crect x='30.5' y='33' width='3' height='10' rx='1.5' fill='%23E0FF4F'/%3E%3Crect x='35' y='36' width='3' height='7' rx='1.5' fill='%23BFD7EA'/%3E%3C/svg%3E">

<!-- iOS Icon 180x180 (iPhone) -->
<link rel="apple-touch-icon" href="data:image/svg+xml,%3Csvg xmlns='<http://www.w3.org/2000/svg>' viewBox='0 0 180 180'%3E%3Crect width='180' height='180' rx='40' fill='%23FF6663'/%3E%3Ccircle cx='90' cy='60' r='30' fill='%23FFF' opacity='0.95'/%3E%3Crect x='65' y='85' width='50' height='55' rx='18' fill='%23FFF' opacity='0.95'/%3E%3Ccircle cx='78' cy='52' r='5' fill='%23FF6663'/%3E%3Ccircle cx='102' cy='52' r='5' fill='%23FF6663'/%3E%3Cpath d='M78 68 Q90 78 102 68' fill='none' stroke='%23FF6663' stroke-width='4' stroke-linecap='round'/%3E%3Crect x='70' y='100' width='10' height='25' rx='5' fill='%23BFD7EA'/%3E%3Crect x='85' y='95' width='10' height='30' rx='5' fill='%23E0FF4F'/%3E%3Crect x='100' y='102' width='10' height='23' rx='5' fill='%23BFD7EA'/%3E%3C/svg%3E">

<!-- iPad Icon 167x167 -->
<link rel="apple-touch-icon" sizes="167x167" href="data:image/svg+xml,%3Csvg xmlns='<http://www.w3.org/2000/svg>' viewBox='0 0 167 167'%3E%3Crect width='167' height='167' rx='36' fill='%23FF6663'/%3E%3Ccircle cx='83.5' cy='55' r='28' fill='%23FFF' opacity='0.95'/%3E%3Crect x='60' y='78' width='47' height='52' rx='16' fill='%23FFF' opacity='0.95'/%3E%3Ccircle cx='72' cy='48' r='4.5' fill='%23FF6663'/%3E%3Ccircle cx='95' cy='48' r='4.5' fill='%23FF6663'/%3E%3Cpath d='M72 63 Q83.5 72 95 63' fill='none' stroke='%23FF6663' stroke-width='3.5' stroke-linecap='round'/%3E%3Crect x='65' y='93' width='9' height='23' rx='4.5' fill='%23BFD7EA'/%3E%3Crect x='79' y='88' width='9' height='28' rx='4.5' fill='%23E0FF4F'/%3E%3Crect x='93' y='95' width='9' height='21' rx='4.5' fill='%23BFD7EA'/%3E%3C/svg%3E">

<!-- iOS Splash Screens -->
<meta name="apple-mobile-web-app-capable" content="yes">
<link rel="apple-touch-startup-image" href="data:image/svg+xml,%3Csvg xmlns='<http://www.w3.org/2000/svg>' viewBox='0 0 375 812'%3E%3Crect width='375' height='812' fill='%230B3954'/%3E%3Ccircle cx='187' cy='300' r='60' fill='%23FF6663' opacity='0.9'/%3E%3Crect x='147' y='360' width='80' height='100' rx='30' fill='%23BFD7EA' opacity='0.8'/%3E%3Ctext x='187' y='550' text-anchor='middle' font-family='system-ui' font-size='24' font-weight='bold' fill='%23E0FF4F'%3EPediatrics Calculator%3C/text%3E%3C/svg%3E" media="(device-width: 375px)">

<!-- Web App Manifest -->
<link rel="manifest" href="data:application/json;base64,eyJuYW1lIjoiUGVkaWF0cmljcyBDYWxjdWxhdG9yIiwic2hvcnRfbmFtZSI6IlBlZENhbGMiLCJkZXNjcmlwdGlvbiI6Iuq4sOC4s+C4meC4p+C4k+C4guC4meC4suC4lOC4ouC4suC5geC4peC4sOC4quC4suC4o+C4meC5ieC4s+C4quC4s+C4q+C4o+C4seC4muC5gOC4lOC5h+C4gSIsInN0YXJ0X3VybCI6Ii4iLCJkaXNwbGF5Ijoic3RhbmRhbG9uZSIsImJhY2tncm91bmRfY29sb3IiOiIjRkVGRkZFIiwidGhlbWVfY29sb3IiOiIjRkY2NjYzIiwib3JpZW50YXRpb24iOiJwb3J0cmFpdCIsImljb25zIjpbeyJzcmMiOiJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUI0Yld4dWN6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNakF3TUM5emRtY2lJSFpwWlhkQ2IzZzlJakFnTUNBeE9UZ2dNVGs0SWo0OGNtVmpkQ0IzYVdSMGFEMGlNVGs0SWlCb1pXbG5hSFE5SWpFNU9DSWdjbmc5SWpRNElpQm1hV3hzUFNJalJrWTJOall6SWk4K1BHTnBjbU5zWlNCamVEMGlPVGtpSUdONVBTSTJOaUlnY2owaU16TWlJR1pwYkd3OUlpTkdSa1lpSUc5d1lXTnBkSGs5SWpBdU9UVWlMejQ4Y21WamRDQjRQU0kzTWlJZ2VUMGlPVGtpSUhkcFpIUm9QU0kxTkNJZ2FHVnBaMmgwUFNJMk1DSWdjbmc5SWpJd0lpQm1hV3hzUFNJalJrWkdJaUJ2Y0dGamFYUjVQU0l3TGprMUlpOCtQR05wY21Oc1pTQmplRDBpT0RRaUlHTjVQU0kxTnlJZ2NqMGlOU0lnWm1sc2JEMGlJMFpHTmpZMk15SXZQangwWlhoMElIZzlJams1SWlCNVBTSXhOVFVpSUhSbGVIUXRZVzVqYUc5eVBTSnRhV1JrYkdVaUlHWnZiblF0Wm1GdGFXeDVQU0p6ZVhOMFpXMHRkV2tpSUdadmJuUXRjMmw2WlQwaU1qZ2lJR1p2Ym5RdGQyVnBaMmgwUFNKaWIyeGtJaUJtYVd4c1BTSWpSVEJHUmpSR0lqNVFaV1JEWVd4alBDOTBaWGgwUGp3dmMzWm5QZz09Iiwic2l6ZXMiOiIxOTJ4MTkyIiwidHlwZSI6ImltYWdlL3N2Zyt4bWwifV19">

<!-- Preload Font -->
<link rel="preconnect" href="<https://fonts.googleapis.com>">
<link rel="preconnect" href="<https://fonts.gstatic.com>" crossorigin>
<link href="<https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap>" rel="stylesheet">

<!-- Link to CSS file -->
<link rel="stylesheet" href="styles.css">
</head>
<body>
<div class="app">

<!-- Header -->
<header class="header">
<div class="header-left">
<!-- Inline SVG Logo -->
<svg class="logo" viewBox="0 0 64 64" aria-hidden="true">
<circle cx="32" cy="20" r="12" fill="currentColor" opacity="0.9"/>
<rect x="24" y="30" width="16" height="20" rx="6" fill="currentColor" opacity="0.7"/>
<circle cx="28" cy="16" r="2" fill="var(--white)"/>
<circle cx="36" cy="16" r="2" fill="var(--white)"/>
<path d="M28 22 Q32 26 36 22" fill="none" stroke="var(--white)" stroke-width="1.5" stroke-linecap="round"/>
<rect x="26" y="38" width="3" height="8" rx="1.5" fill="var(--lime)" opacity="0.8"/>
<rect x="30.5" y="36" width="3" height="10" rx="1.5" fill="var(--sky)" opacity="0.8"/>
<rect x="35" y="39" width="3" height="7" rx="1.5" fill="var(--lime)" opacity="0.8"/>
</svg>
<h1>Pediatrics <span class="text-light">Calculator</span></h1>
</div>
<div class="header-right">
<button class="btn-icon" id="fontSizeBtn" aria-label="เปลี่ยนขนาดตัวอักษร">📏</button>
<button class="btn-icon" id="themeToggle" aria-label="เปลี่ยนธีม">🌙</button>
<button class="btn-icon" id="settingsBtn" aria-label="การตั้งค่า">⚙️</button>
</div>
</header>

<!-- Main Content -->
<main class="main">

<!-- Sidebar -->
<aside class="sidebar">

<!-- Patient Info Section -->
<section class="section">
<h2 class="section-title"><span class="section-icon">👶</span>ข้อมูลผู้ป่วย</h2>
<div class="form-row">
<div class="form-field">
<label for="ageMonths">อายุ</label>
<div class="input-group">
<input type="number" id="ageMonths" value="12" min="0" class="input" aria-label="อายุเป็นเดือน">
<span class="input-addon">เดือน</span>
</div>
<small id="ageYears" class="helper-text">= 1 ปี</small>
</div>
<div class="form-field">
<label for="weight">น้ำหนัก</label>
<div class="input-group">
<input type="number" id="weight" value="10" min="2" max="60" step="0.5" class="input" aria-label="น้ำหนักกิโลกรัม">
<span class="input-addon">kg</span>
</div>
<input type="range" id="weightSlider" min="2" max="60" step="0.5" value="10" class="slider" aria-label="ปรับน้ำหนัก">
</div>
</div>
<div class="quick-grid">
<button class="quick-btn" data-weight="3.5" data-age="0">แรกเกิด</button>
<button class="quick-btn" data-weight="6" data-age="3">3ด</button>
<button class="quick-btn" data-weight="10" data-age="12">1ป</button>
<button class="quick-btn" data-weight="15" data-age="36">3ป</button>
<button class="quick-btn" data-weight="20" data-age="60">5ป</button>
</div>
</section>

<!-- IV Fluid Section -->
<section class="section">
<h2 class="section-title"><span class="section-icon">💧</span>IV Fluid</h2>
<div class="form-row">
<div class="form-field">
<label for="ivType">Type</label>
<select id="ivType" class="select" aria-label="ชนิดสารน้ำ">
<option value="NS">0.9% NaCl</option>
<option value="LR">LR</option>
<option value="D5W">D5W</option>
<option value="D5NS">D5NS</option>
<option value="D5-1/2NS">D5-½NS</option>
</select>
</div>
<div class="form-field">
<label for="deficitSlider">Deficit <span id="deficitValue" class="value-badge">0%</span></label>
<input type="range" id="deficitSlider" min="0" max="15" step="0.5" value="0" class="slider" aria-label="เปอร์เซ็นต์ขาดน้ำ">
</div>
<div class="form-field">
<label for="deficitHours">ชดเชยใน</label>
<div class="input-group">
<input type="number" id="deficitHours" value="24" min="1" max="48" class="input" aria-label="ชั่วโมงชดเชย">
<span class="input-addon">hr</span>
</div>
</div>
</div>
<div class="iv-results" aria-live="polite">
<div class="result-item">
<span class="result-label">Maint</span>
<span class="result-value" id="maintRate">42</span>
<span class="result-unit">mL/hr</span>
</div>
<div class="result-item">
<span class="result-label">Deficit</span>
<span class="result-value" id="deficitRate">0</span>
<span class="result-unit">mL/hr</span>
</div>
<div class="result-item highlight">
<span class="result-label">Total</span>
<span class="result-value" id="totalRate">42</span>
<span class="result-unit">mL/hr</span>
</div>
</div>
</section>

<!-- Status Info -->
<div class="status-info">
<div class="status-row">
<span class="status-key">Mode:</span>
<span class="status-val" id="roundingStatus">ปัดใกล้สุด</span>
</div>
<div class="btn-group">
<button class="btn-sm" id="copyBtn">📋</button>
<button class="btn-sm" id="exportBtn">💾</button>
<button class="btn-sm" id="printBtn">🖨️</button>
</div>
</div>

</aside>

<!-- Content Area -->
<div class="content">
<div class="content-header">
<h2 class="content-title">
<span class="section-icon">💊</span>ขนาดยา
<span id="statusWeight" class="badge">10 kg</span>
<span id="statusAge" class="badge">1 ปี</span>
</h2>
<div class="view-toggle">
<button class="toggle-btn active" data-view="grid">⊞</button>
<button class="toggle-btn" data-view="list">☰</button>
</div>
</div>
<div class="drug-container grid-view" id="drugContainer">
<!-- Drug items will be inserted here by JavaScript -->
</div>
</div>

</main>
</div>

<!-- Settings Modal -->
<div class="modal" id="settingsModal">
<div class="modal-dialog">
<div class="modal-header">
<h3>⚙️ การตั้งค่า</h3>
<button class="btn-close" id="closeSettings" aria-label="ปิด">✕</button>
</div>
<div class="modal-body">
<div class="setting-row">
<label for="roundingSelect">วิธีการปัดเศษ</label>
<select id="roundingSelect" class="select-sm">
<option value="nearest" selected>ปัดใกล้สุด</option>
<option value="interpolate">คำนวณก้ำกึ่ง</option>
</select>
</div>
<div class="setting-row">
<label class="checkbox">
<input type="checkbox" id="autoSave" checked>
<span>บันทึกอัตโนมัติ</span>
</label>
</div>
<div class="setting-row">
<label class="checkbox">
<input type="checkbox" id="showWarnings" checked>
<span>แสดงคำเตือน</span>
</label>
</div>
<div class="setting-row">
<button class="btn-danger" id="clearDataBtn">🗑️ ล้างข้อมูลทั้งหมด</button>
</div>
</div>
</div>
</div>

<!-- Toast Notification -->
<div id="toast" class="toast"></div>

<!-- Load JavaScript -->
<script src="app.js"></script>

</body>
</html>
