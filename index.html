<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover">
<title>Pediatrics Calculator</title>
<meta name="description" content="คำนวณขนาดยาและสารน้ำสำหรับเด็ก">
<meta name="theme-color" content="#FF6663">

<!-- iOS Meta Tags -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="default">
<meta name="apple-mobile-web-app-title" content="PedCalc">

<!-- Favicon - Calculator Icon -->
<link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='<http://www.w3.org/2000/svg>' viewBox='0 0 24 24' fill='none'%3E%3Crect width='24' height='24' rx='4' fill='%23FF6663'/%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' stroke='white' d='M15.75 15.75V18m-7.5-6.75h.008v.008H8.25v-.008Zm0 2.25h.008v.008H8.25V13.5Zm0 2.25h.008v.008H8.25v-.008Zm0 2.25h.008v.008H8.25V18Zm2.498-6.75h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007V13.5Zm0 2.25h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007V18Zm2.504-6.75h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V13.5Zm0 2.25h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V18Zm2.498-6.75h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V13.5ZM8.25 6h7.5v2.25h-7.5V6ZM12 2.25c-1.892 0-3.758.11-5.593.322C5.307 2.7 4.5 3.65 4.5 4.757V19.5a2.25 2.25 0 0 0 2.25 2.25h10.5a2.25 2.25 0 0 0 2.25-2.25V4.757c0-1.108-.806-2.057-1.907-2.185A48.507 48.507 0 0 0 12 2.25Z'/%3E%3C/svg%3E">

<!-- iOS Icon 180x180 (iPhone) - Calculator with gradient background -->
<link rel="apple-touch-icon" href="data:image/svg+xml,%3Csvg xmlns='<http://www.w3.org/2000/svg>' viewBox='0 0 180 180'%3E%3Cdefs%3E%3ClinearGradient id='bg' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' stop-color='%23FF6663'/%3E%3Cstop offset='100%25' stop-color='%23FF8885'/%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='180' height='180' rx='40' fill='url(%23bg)'/%3E%3Cg transform='translate(90,90)'%3E%3Cg transform='scale(5)'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='1.2' stroke='white' fill='none' d='M3.75 3.75V6m-7.5-6.75h.008v.008H-3.75v-.008Zm0 2.25h.008v.008H-3.75V-1.5Zm0 2.25h.008v.008H-3.75v-.008Zm0 2.25h.008v.008H-3.75V6Zm2.498-6.75h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007V-1.5Zm0 2.25h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007V6Zm2.504-6.75h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V-1.5Zm0 2.25h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V6Zm2.498-6.75h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V-1.5ZM-3.75 -6h7.5v2.25h-7.5V-6ZM0 -9.75c-1.892 0-3.758.11-5.593.322C-6.693 -9.3 -7.5 -8.35 -7.5 -7.243V7.5a2.25 2.25 0 0 0 2.25 2.25h10.5a2.25 2.25 0 0 0 2.25-2.25V-7.243c0-1.108-.806-2.057-1.907-2.185A48.507 48.507 0 0 0 0 -9.75Z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E">

<!-- iOS Icon 167x167 (iPad) -->
<link rel="apple-touch-icon" sizes="167x167" href="data:image/svg+xml,%3Csvg xmlns='<http://www.w3.org/2000/svg>' viewBox='0 0 167 167'%3E%3Cdefs%3E%3ClinearGradient id='grad' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' stop-color='%23FF6663'/%3E%3Cstop offset='50%25' stop-color='%23FF8885'/%3E%3Cstop offset='100%25' stop-color='%23FFB6B3'/%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='167' height='167' rx='36' fill='url(%23grad)'/%3E%3Cg transform='translate(83.5,83.5) scale(4.5)'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='1.3' stroke='white' fill='none' d='M3.75 3.75V6m-7.5-6.75h.008v.008H-3.75v-.008Zm0 2.25h.008v.008H-3.75V-1.5Zm0 2.25h.008v.008H-3.75v-.008Zm0 2.25h.008v.008H-3.75V6Zm2.498-6.75h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007V-1.5Zm0 2.25h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007V6Zm2.504-6.75h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V-1.5Zm0 2.25h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V6Zm2.498-6.75h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V-1.5ZM-3.75 -6h7.5v2.25h-7.5V-6ZM0 -9.75c-1.892 0-3.758.11-5.593.322C-6.693 -9.3 -7.5 -8.35 -7.5 -7.243V7.5a2.25 2.25 0 0 0 2.25 2.25h10.5a2.25 2.25 0 0 0 2.25-2.25V-7.243c0-1.108-.806-2.057-1.907-2.185A48.507 48.507 0 0 0 0 -9.75Z'/%3E%3C/g%3E%3C/svg%3E">

<!-- Android Icon 192x192 -->
<link rel="icon" type="image/png" sizes="192x192" href="data:image/svg+xml,%3Csvg xmlns='<http://www.w3.org/2000/svg>' viewBox='0 0 192 192'%3E%3Crect width='192' height='192' rx='48' fill='%23FF6663'/%3E%3Cg transform='translate(96,96) scale(5)'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='1.2' stroke='white' fill='none' d='M3.75 3.75V6m-7.5-6.75h.008v.008H-3.75v-.008Zm0 2.25h.008v.008H-3.75V-1.5Zm0 2.25h.008v.008H-3.75v-.008Zm0 2.25h.008v.008H-3.75V6Zm2.498-6.75h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007V-1.5Zm0 2.25h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007V6Zm2.504-6.75h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V-1.5Zm0 2.25h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V6Zm2.498-6.75h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V-1.5ZM-3.75 -6h7.5v2.25h-7.5V-6ZM0 -9.75c-1.892 0-3.758.11-5.593.322C-6.693 -9.3 -7.5 -8.35 -7.5 -7.243V7.5a2.25 2.25 0 0 0 2.25 2.25h10.5a2.25 2.25 0 0 0 2.25-2.25V-7.243c0-1.108-.806-2.057-1.907-2.185A48.507 48.507 0 0 0 0 -9.75Z'/%3E%3C/g%3E%3C/svg%3E">

<!-- Android Icon 512x512 (for PWA) -->
<link rel="icon" type="image/png" sizes="512x512" href="data:image/svg+xml,%3Csvg xmlns='<http://www.w3.org/2000/svg>' viewBox='0 0 512 512'%3E%3Cdefs%3E%3ClinearGradient id='gradient' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' stop-color='%23FF6663'/%3E%3Cstop offset='100%25' stop-color='%23FF8885'/%3E%3C/linearGradient%3E%3Cfilter id='shadow'%3E%3CfeDropShadow dx='0' dy='4' stdDeviation='8' flood-opacity='0.2'/%3E%3C/filter%3E%3C/defs%3E%3Crect width='512' height='512' rx='96' fill='url(%23gradient)'/%3E%3Cg transform='translate(256,256) scale(13)' filter='url(%23shadow)'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='1' stroke='white' fill='none' d='M3.75 3.75V6m-7.5-6.75h.008v.008H-3.75v-.008Zm0 2.25h.008v.008H-3.75V-1.5Zm0 2.25h.008v.008H-3.75v-.008Zm0 2.25h.008v.008H-3.75V6Zm2.498-6.75h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007V-1.5Zm0 2.25h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007V6Zm2.504-6.75h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V-1.5Zm0 2.25h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V6Zm2.498-6.75h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V-1.5ZM-3.75 -6h7.5v2.25h-7.5V-6ZM0 -9.75c-1.892 0-3.758.11-5.593.322C-6.693 -9.3 -7.5 -8.35 -7.5 -7.243V7.5a2.25 2.25 0 0 0 2.25 2.25h10.5a2.25 2.25 0 0 0 2.25-2.25V-7.243c0-1.108-.806-2.057-1.907-2.185A48.507 48.507 0 0 0 0 -9.75Z'/%3E%3C/g%3E%3C/svg%3E">

<!-- Web App Manifest -->
<link rel="manifest" href="data:application/json;base64,eyJuYW1lIjoiUGVkaWF0cmljcyBDYWxjdWxhdG9yIiwic2hvcnRfbmFtZSI6IlBlZENhbGMiLCJkZXNjcmlwdGlvbiI6Iuq4sOC4s+C4meC4p+C4k+C4guC4meC4suC4lOC4ouC4suC5geC4peC4sOC4quC4suC4o+C4meC5ieC4s+C4quC4s+C4q+C4o+C4seC4muC5gOC4lOC5h+C4gSIsInN0YXJ0X3VybCI6Ii4iLCJkaXNwbGF5Ijoic3RhbmRhbG9uZSIsImJhY2tncm91bmRfY29sb3IiOiIjRkVGRkZFIiwidGhlbWVfY29sb3IiOiIjRkY2NjYzIiwib3JpZW50YXRpb24iOiJwb3J0cmFpdCIsImljb25zIjpbeyJzcmMiOiJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgdmlld0JveD0nMCAwIDE5MiAxOTInJTNFJTNDcmVjdCB3aWR0aD0nMTkyJyBoZWlnaHQ9JzE5Micgcng9JzQ4JyBmaWxsPSclMjNGRjY2NjMnLyUzRSUzQy9zdmclM0UiLCJzaXplcyI6IjE5MngxOTIiLCJ0eXBlIjoiaW1hZ2Uvc3ZnK3htbCJ9LHsic3JjIjoiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZpZXdCb3g9JzAgMCA1MTIgNTEyJyUzRSUzQ3JlY3Qgd2lkdGg9JzUxMicgaGVpZ2h0PSc1MTInIHJ4PSc5NicgZmlsbD0nJTIzRkY2NjYzJy8lM0UlM0Mvc3ZnJTNFIiwic2l6ZXMiOiI1MTJ4NTEyIiwidHlwZSI6ImltYWdlL3N2Zyt4bWwifV19">

<!-- iOS Splash Screen with Calculator Icon -->
<link rel="apple-touch-startup-image" href="data:image/svg+xml,%3Csvg xmlns='<http://www.w3.org/2000/svg>' viewBox='0 0 375 812'%3E%3Cdefs%3E%3ClinearGradient id='bg' x1='0%25' y1='0%25' x2='0%25' y2='100%25'%3E%3Cstop offset='0%25' stop-color='%230B3954'/%3E%3Cstop offset='100%25' stop-color='%231A5278'/%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='375' height='812' fill='url(%23bg)'/%3E%3Cg transform='translate(187.5,300) scale(8)'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='1' stroke='%23FF6663' fill='none' d='M3.75 3.75V6m-7.5-6.75h.008v.008H-3.75v-.008Zm0 2.25h.008v.008H-3.75V-1.5Zm0 2.25h.008v.008H-3.75v-.008Zm0 2.25h.008v.008H-3.75V6Zm2.498-6.75h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007V-1.5Zm0 2.25h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007V6Zm2.504-6.75h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V-1.5Zm0 2.25h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V6Zm2.498-6.75h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V-1.5ZM-3.75 -6h7.5v2.25h-7.5V-6ZM0 -9.75c-1.892 0-3.758.11-5.593.322C-6.693 -9.3 -7.5 -8.35 -7.5 -7.243V7.5a2.25 2.25 0 0 0 2.25 2.25h10.5a2.25 2.25 0 0 0 2.25-2.25V-7.243c0-1.108-.806-2.057-1.907-2.185A48.507 48.507 0 0 0 0 -9.75Z'/%3E%3C/g%3E%3Ctext x='187.5' y='500' text-anchor='middle' font-family='system-ui' font-size='28' font-weight='bold' fill='%23E0FF4F'%3EPediatrics%3C/text%3E%3Ctext x='187.5' y='540' text-anchor='middle' font-family='system-ui' font-size='24' fill='%23BFD7EA'%3ECalculator%3C/text%3E%3C/svg%3E" media="(device-width: 375px)">

<!-- Preload Font -->
<link rel="preconnect" href="<https://fonts.googleapis.com>">
<link rel="preconnect" href="<https://fonts.gstatic.com>" crossorigin>
<link href="<https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap>" rel="stylesheet">

<!-- Link to CSS file -->
<link rel="stylesheet" href="styles.css">
</head>
<body>
<div class="app">

<!-- Header -->
<header class="header">
<div class="header-left">
<!-- Calculator Logo SVG -->
<svg class="logo" viewBox="0 0 24 24" fill="none" aria-hidden="true">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" stroke="currentColor"
        d="M15.75 15.75V18m-7.5-6.75h.008v.008H8.25v-.008Zm0 2.25h.008v.008H8.25V13.5Zm0 2.25h.008v.008H8.25v-.008Zm0 2.25h.008v.008H8.25V18Zm2.498-6.75h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007V13.5Zm0 2.25h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007V18Zm2.504-6.75h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V13.5Zm0 2.25h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V18Zm2.498-6.75h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V13.5ZM8.25 6h7.5v2.25h-7.5V6ZM12 2.25c-1.892 0-3.758.11-5.593.322C5.307 2.7 4.5 3.65 4.5 4.757V19.5a2.25 2.25 0 0 0 2.25 2.25h10.5a2.25 2.25 0 0 0 2.25-2.25V4.757c0-1.108-.806-2.057-1.907-2.185A48.507 48.507 0 0 0 12 2.25Z" />
</svg>
<h1>Pediatrics <span class="text-light">Calculator</span></h1>
</div>
<div class="header-right">
<button class="btn-icon" id="fontSizeBtn" aria-label="เปลี่ยนขนาดตัวอักษร">📏</button>
<button class="btn-icon" id="themeToggle" aria-label="เปลี่ยนธีม">🌙</button>
<button class="btn-icon" id="settingsBtn" aria-label="การตั้งค่า">⚙️</button>
</div>
</header>

<!-- Main Content -->
<main class="main">

<!-- Sidebar -->
<aside class="sidebar">

<!-- Patient Info Section -->
<section class="section">
<h2 class="section-title"><span class="section-icon">👶</span>ข้อมูลผู้ป่วย</h2>
<div class="form-row">
<div class="form-field">
<label for="ageMonths">อายุ</label>
<div class="input-group">
<input type="number" id="ageMonths" value="12" min="0" class="input" aria-label="อายุเป็นเดือน">
<span class="input-addon">เดือน</span>
</div>
<small id="ageYears" class="helper-text">= 1 ปี</small>
</div>
<div class="form-field">
<label for="weight">น้ำหนัก</label>
<div class="input-group">
<input type="number" id="weight" value="10" min="2" max="60" step="0.5" class="input" aria-label="น้ำหนักกิโลกรัม">
<span class="input-addon">kg</span>
</div>
<input type="range" id="weightSlider" min="2" max="60" step="0.5" value="10" class="slider" aria-label="ปรับน้ำหนัก">
</div>
</div>
<div class="quick-grid">
<button class="quick-btn" data-weight="3.5" data-age="0">แรกเกิด</button>
<button class="quick-btn" data-weight="6" data-age="3">3ด</button>
<button class="quick-btn" data-weight="10" data-age="12">1ป</button>
<button class="quick-btn" data-weight="15" data-age="36">3ป</button>
<button class="quick-btn" data-weight="20" data-age="60">5ป</button>
</div>
</section>

<!-- IV Fluid Section -->
<section class="section">
<h2 class="section-title"><span class="section-icon">💧</span>IV Fluid</h2>
<div class="form-row">
<div class="form-field">
<label for="ivType">Type</label>
<select id="ivType" class="select" aria-label="ชนิดสารน้ำ">
<option value="NS">0.9% NaCl</option>
<option value="LR">LR</option>
<option value="D5W">D5W</option>
<option value="D5NS">D5NS</option>
<option value="D5-1/2NS">D5-½NS</option>
</select>
</div>
<div class="form-field">
<label for="deficitSlider">Deficit <span id="deficitValue" class="value-badge">0%</span></label>
<input type="range" id="deficitSlider" min="0" max="15" step="0.5" value="0" class="slider" aria-label="เปอร์เซ็นต์ขาดน้ำ">
</div>
<div class="form-field">
<label for="deficitHours">ชดเชยใน</label>
<div class="input-group">
<input type="number" id="deficitHours" value="24" min="1" max="48" class="input" aria-label="ชั่วโมงชดเชย">
<span class="input-addon">hr</span>
</div>
</div>
</div>
<div class="iv-results" aria-live="polite">
<div class="result-item">
<span class="result-label">Maint</span>
<span class="result-value" id="maintRate">42</span>
<span class="result-unit">mL/hr</span>
</div>
<div class="result-item">
<span class="result-label">Deficit</span>
<span class="result-value" id="deficitRate">0</span>
<span class="result-unit">mL/hr</span>
</div>
<div class="result-item highlight">
<span class="result-label">Total</span>
<span class="result-value" id="totalRate">42</span>
<span class="result-unit">mL/hr</span>
</div>
</div>
</section>

<!-- Status Info -->
<div class="status-info">
<div class="status-row">
<span class="status-key">Mode:</span>
<span class="status-val" id="roundingStatus">ปัดใกล้สุด</span>
</div>
<div class="btn-group">
<button class="btn-sm" id="copyBtn">📋</button>
<button class="btn-sm" id="exportBtn">💾</button>
<button class="btn-sm" id="printBtn">🖨️</button>
</div>
</div>

</aside>

<!-- Content Area -->
<div class="content">
<div class="content-header">
<h2 class="content-title">
<span class="section-icon">💊</span>ขนาดยา
<span id="statusWeight" class="badge">10 kg</span>
<span id="statusAge" class="badge">1 ปี</span>
</h2>
<div class="view-toggle">
<button class="toggle-btn active" data-view="grid">⊞</button>
<button class="toggle-btn" data-view="list">☰</button>
</div>
</div>
<div class="drug-container grid-view" id="drugContainer">
<!-- Drug items will be inserted here by JavaScript -->
</div>
</div>

</main>
</div>

<!-- Settings Modal -->
<div class="modal" id="settingsModal">
<div class="modal-dialog">
<div class="modal-header">
<h3>⚙️ การตั้งค่า</h3>
<button class="btn-close" id="closeSettings" aria-label="ปิด">✕</button>
</div>
<div class="modal-body">
<div class="setting-row">
<label for="roundingSelect">วิธีการปัดเศษ</label>
<select id="roundingSelect" class="select-sm">
<option value="nearest" selected>ปัดใกล้สุด</option>
<option value="interpolate">คำนวณก้ำกึ่ง</option>
</select>
</div>
<div class="setting-row">
<label class="checkbox">
<input type="checkbox" id="autoSave" checked>
<span>บันทึกอัตโนมัติ</span>
</label>
</div>
<div class="setting-row">
<label class="checkbox">
<input type="checkbox" id="showWarnings" checked>
<span>แสดงคำเตือน</span>
</label>
</div>
<div class="setting-row">
<button class="btn-danger" id="clearDataBtn">🗑️ ล้างข้อมูลทั้งหมด</button>
</div>
</div>
</div>
</div>

<!-- Toast Notification -->
<div id="toast" class="toast"></div>

<!-- Load JavaScript -->
<script src="app.js"></script>

</body>
</html>
