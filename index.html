<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Pediatrics Calculator</title>
<meta name="description" content="คำนวณขนาดยาและสารน้ำสำหรับเด็ก">
<meta name="theme-color" content="#FF6663">

<!-- Favicon -->
<link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='<http://www.w3.org/2000/svg>' viewBox='0 0 64 64'%3E%3Ccircle cx='32' cy='20' r='12' fill='%23FF6663'/%3E%3Crect x='24' y='30' width='16' height='20' rx='6' fill='%23BFD7EA'/%3E%3Ccircle cx='28' cy='16' r='2' fill='%23333'/%3E%3Ccircle cx='36' cy='16' r='2' fill='%23333'/%3E%3Cpath d='M28 22 Q32 26 36 22' fill='none' stroke='%23333' stroke-width='1.5' stroke-linecap='round'/%3E%3C/svg%3E">

<!-- Apple Touch Icons -->
<link rel="apple-touch-icon" sizes="180x180" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNkYPhfDwAChwGA60e6kgAAAABJRU5ErkJggg==">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="default">

<!-- Web App Manifest -->
<link rel="manifest" href="data:application/manifest+json,{%22name%22:%22Pediatrics%20Calculator%22,%22short_name%22:%22PedCalc%22,%22start_url%22:%22.%22,%22display%22:%22standalone%22,%22theme_color%22:%22%23FF6663%22,%22background_color%22:%22%23FFFFFF%22}">

<!-- Preload Font -->
<link rel="preconnect" href="<https://fonts.googleapis.com>">
<link rel="preconnect" href="<https://fonts.gstatic.com>" crossorigin>
<link href="<https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap>" rel="stylesheet">

<!-- Link to CSS file -->
<link rel="stylesheet" href="styles.css">
</head>
<body>
<div class="app">

<!-- Header -->
<header class="header">
<div class="header-left">
<svg class="logo" viewBox="0 0 64 64" aria-hidden="true">
<circle cx="32" cy="20" r="12" fill="currentColor" opacity="0.9"/>
<rect x="24" y="30" width="16" height="20" rx="6" fill="currentColor" opacity="0.7"/>
<circle cx="28" cy="16" r="2" fill="var(--white)"/>
<circle cx="36" cy="16" r="2" fill="var(--white)"/>
<path d="M28 22 Q32 26 36 22" fill="none" stroke="var(--white)" stroke-width="1.5" stroke-linecap="round"/>
</svg>
<h1>Pediatrics <span class="text-light">Calculator</span></h1>
</div>
<div class="header-right">
<button class="btn-icon" id="fontSizeBtn" aria-label="เปลี่ยนขนาดตัวอักษร">📏</button>
<button class="btn-icon" id="themeToggle" aria-label="เปลี่ยนธีม">🌙</button>
<button class="btn-icon" id="settingsBtn" aria-label="การตั้งค่า">⚙️</button>
</div>
</header>

<!-- Main Content -->
<main class="main">

<!-- Sidebar -->
<aside class="sidebar">

<!-- Patient Info Section -->
<section class="section">
<h2 class="section-title"><span class="section-icon">👶</span>ข้อมูลผู้ป่วย</h2>
<div class="form-row">
<div class="form-field">
<label for="ageMonths">อายุ</label>
<div class="input-group">
<input type="number" id="ageMonths" value="12" min="0" class="input" aria-label="อายุเป็นเดือน">
<span class="input-addon">เดือน</span>
</div>
<small id="ageYears" class="helper-text">= 1 ปี</small>
</div>
<div class="form-field">
<label for="weight">น้ำหนัก</label>
<div class="input-group">
<input type="number" id="weight" value="10" min="2" max="60" step="0.5" class="input" aria-label="น้ำหนักกิโลกรัม">
<span class="input-addon">kg</span>
</div>
<input type="range" id="weightSlider" min="2" max="60" step="0.5" value="10" class="slider" aria-label="ปรับน้ำหนัก">
</div>
</div>
<div class="quick-grid">
<button class="quick-btn" data-weight="3.5" data-age="0">แรกเกิด</button>
<button class="quick-btn" data-weight="6" data-age="3">3ด</button>
<button class="quick-btn" data-weight="10" data-age="12">1ป</button>
<button class="quick-btn" data-weight="15" data-age="36">3ป</button>
<button class="quick-btn" data-weight="20" data-age="60">5ป</button>
</div>
</section>

<!-- IV Fluid Section -->
<section class="section">
<h2 class="section-title"><span class="section-icon">💧</span>IV Fluid</h2>
<div class="form-row">
<div class="form-field">
<label for="ivType">Type</label>
<select id="ivType" class="select" aria-label="ชนิดสารน้ำ">
<option value="NS">0.9% NaCl</option>
<option value="LR">LR</option>
<option value="D5W">D5W</option>
<option value="D5NS">D5NS</option>
<option value="D5-1/2NS">D5-½NS</option>
</select>
</div>
<div class="form-field">
<label for="deficitSlider">Deficit <span id="deficitValue" class="value-badge">0%</span></label>
<input type="range" id="deficitSlider" min="0" max="15" step="0.5" value="0" class="slider" aria-label="เปอร์เซ็นต์ขาดน้ำ">
</div>
<div class="form-field">
<label for="deficitHours">ชดเชยใน</label>
<div class="input-group">
<input type="number" id="deficitHours" value="24" min="1" max="48" class="input" aria-label="ชั่วโมงชดเชย">
<span class="input-addon">hr</span>
</div>
</div>
</div>
<div class="iv-results" aria-live="polite">
<div class="result-item">
<span class="result-label">Maint</span>
<span class="result-value" id="maintRate">42</span>
<span class="result-unit">mL/hr</span>
</div>
<div class="result-item">
<span class="result-label">Deficit</span>
<span class="result-value" id="deficitRate">0</span>
<span class="result-unit">mL/hr</span>
</div>
<div class="result-item highlight">
<span class="result-label">Total</span>
<span class="result-value" id="totalRate">42</span>
<span class="result-unit">mL/hr</span>
</div>
</div>
</section>

<!-- Status Info -->
<div class="status-info">
<div class="status-row">
<span class="status-key">Mode:</span>
<span class="status-val" id="roundingStatus">ปัดใกล้สุด</span>
</div>
<div class="btn-group">
<button class="btn-sm" id="copyBtn">📋</button>
<button class="btn-sm" id="exportBtn">💾</button>
<button class="btn-sm" id="printBtn">🖨️</button>
</div>
</div>

</aside>

<!-- Content Area -->
<div class="content">
<div class="content-header">
<h2 class="content-title">
<span class="section-icon">💊</span>ขนาดยา
<span id="statusWeight" class="badge">10 kg</span>
<span id="statusAge" class="badge">1 ปี</span>
</h2>
<div class="view-toggle">
<button class="toggle-btn active" data-view="grid">⊞</button>
<button class="toggle-btn" data-view="list">☰</button>
</div>
</div>
<div class="drug-container grid-view" id="drugContainer">
<!-- Drug items will be inserted here by JavaScript -->
</div>
</div>

</main>
</div>

<!-- Settings Modal -->
<div class="modal" id="settingsModal">
<div class="modal-dialog">
<div class="modal-header">
<h3>⚙️ การตั้งค่า</h3>
<button class="btn-close" id="closeSettings" aria-label="ปิด">✕</button>
</div>
<div class="modal-body">
<div class="setting-row">
<label for="roundingSelect">วิธีการปัดเศษ</label>
<select id="roundingSelect" class="select-sm">
<option value="nearest" selected>ปัดใกล้สุด</option>
<option value="interpolate">คำนวณก้ำกึ่ง</option>
</select>
</div>
<div class="setting-row">
<label class="checkbox">
<input type="checkbox" id="autoSave" checked>
<span>บันทึกอัตโนมัติ</span>
</label>
</div>
<div class="setting-row">
<label class="checkbox">
<input type="checkbox" id="showWarnings" checked>
<span>แสดงคำเตือน</span>
</label>
</div>
<div class="setting-row">
<button class="btn-danger" id="clearDataBtn">🗑️ ล้างข้อมูลทั้งหมด</button>
</div>
</div>
</div>
</div>

<!-- Toast Notification -->
<div id="toast" class="toast"></div>

<!-- Load JavaScript -->
<script src="app.js"></script>

</body>
</html>
